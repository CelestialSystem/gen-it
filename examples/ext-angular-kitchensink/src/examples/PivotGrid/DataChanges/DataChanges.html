<ExtContainer layout="fit" padding="10" fitToParent="true">
    <ExtToolbar
        shadow="false"
        docked="top"
        ui="app-transparent-toolbar"
        padding="5 8"
        [layout]="{
            type: 'hbox',
            align: 'stretch'
        }"
        [defaults]="{
            margin: '0 10 0 0',
            shadow: true,
            ui: 'action'
        }"
    >
        <ExtButton text="Change data">
            <ExtMenu>
                <ExtMenuitem
                    text="Add"
                    iconCls="x-fa fa-plus"
                    [handler]="this.addData"
                ></ExtMenuitem>
                <ExtMenuitem
                    text="Update"
                    iconCls="x-fa fa-edit"
                    [handler]="this.updateData"
                ></ExtMenuitem>
                <ExtMenuitem
                    text="Remove"
                    iconCls="x-fa fa-minus"
                    [handler]="this.removeData"
                ></ExtMenuitem>
                <ExtMenuitem
                    text="Clear all"
                    iconCls="x-fa fa-trash"
                    [handler]="this.clearData"
                ></ExtMenuitem>
            </ExtMenu>
        </ExtButton>
    </ExtToolbar>

    <ExtPivotgrid
        [shadow]="true"
        [matrix]="{
            type: 'local',
            store: this.store,
            aggregate: [
                {
                    dataIndex: 'value',
                    header: 'Total',
                    aggregator: 'sum'
                },
                {
                    dataIndex: 'value',
                    header: 'Count',
                    aggregator: 'count'
                }
            ],
            leftAxis: [
                {
                    dataIndex: 'year',
                    header: 'Year'
                },
                {
                    dataIndex: 'person',
                    header: 'Person'
                }
            ],
            topAxis: [
                {
                    dataIndex: 'country',
                    header: 'Country'
                }
            ]
        }"
    >
    </ExtPivotgrid>
</ExtContainer>
